export const getAnimation = (animationIdx, time) => {
    const frames = ANIMATIONS[animationIdx]
    if (IS_DEVELOPMENT_BUILD) {
        if (frames.length == 0)
            return frames[0]
    }
    time = time % frames[0][0]
    let p = 0
    while (p < frames.length-1 && frames[p+1][0] < time) p++
    const frame1 = frames[p]
    const frame2 = frames[(p + 1) % frames.length]
    const interp = p == 0 ? (time / frame2[0]) : (time - frame1[0]) / (frame2[0] - frame1[0])
    return frame1.slice(1).map((val, idx) => val*(1-interp) + frame2[idx+1]*interp)
}

const ANIMATIONS = [
    // Idle
    // [],
    // Walk
    [
        // [800,      0,-160,      -8,-125,-8,-70,-8,0,       8,-125,8,-70,-8,-10],
        // [100,      0,-160,      -8,-125,-8,-70,-16,0,       8,-125,12,-70,8,-10],
        // [200,      0,-160,      -8,-125,-8,-70,-16,0,       8,-125,16,-70,24,0],
        // [600,      0,-160,      -8,-125,-8,-70,-16,0,       8,-125,-4,-70,-16,0],

        // [600,       0,-160,      -8,-125,-12,-70,-24,0,       8,-125,20,-70,24,0],
        // [100,       0,-160,      -8,-125,-8,-70,-16,-10,       8,-125,8,-70,8,0],
        // [200,       0,-160,      -8,-125,8,-70,0,-10,       8,-125,0,-70,-8,0],
        // [300,       0,-160,      -8,-125,4,-70,8,0,       8,-125,4,-70,-8,0],

        [500,       0,-155,      -8,-125,-16,-70,-24,0,       8,-125,16,-70,24,0],
        [120,       0,-160,      -8,-125,-8,-70,-16,-10,       8,-125,8,-70,8,0],
        [240,       0,-155,      -8,-125,0,-70,8,0,       8,-125,0,-70,-8,-10],
        [360,       0,-160,      -8,-125,-8,-70,-8,0,       8,-125,8,-70,0,0],







        // [600,      0,-160,      -8,-125,-8,-70,-8,0,       8,-125,8,-70,8,-4],



        // [400,      0,-160,      -8,-125,-8,-70,-16,0],

        // [400,      0,-160,      -8,-125,-8,-70,-16,0],
        // [500,      0,-160,      -8,-125,-16,-70,-16,0],



        // [300,      0,-160,     -8,-125,-8,-70,-16,0],
        // [400,      0,-160,     -8,-125,-16,-70,-16,0],
    ]
]

